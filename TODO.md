

# Order Manager

> bond 테이블 powder명 정규화함 (소문자, #->_)
> 테이블 cols 반드시 소문자요구 (다이얼로그 자동화)

## TODO
- [ ] DB 뷰어
- [ ] 문서 생성
- [ ] None값, ''값 처리

### 진행중 

#### DB 뷰어
DB 셀렉트 & TABLE 뷰를 만들자. 
- [ ] 테이블 다이얼로그 제작
    - [ ] sp
    - [ ] ip
- [x] select 결과에서 다이얼로그로 바로 여는 버튼 추가


#### 문서 자동생성
필요한 input을 넣으면 json파일을 생성하고 path를 반환하는 함수 작성. 
모델에 작성

##### sp
다이얼로그 대강 구현함

- 다이얼로그
- [ ] 스핀박스
    - [ ] 휠동작
    - [ ] 값범위
- [ ] 글꼴
- [ ] 테두리
- [ ] 이미지 뷰
- [ ] 다이얼로그에 위젯 연결

- [ ] 계산창 새로 만들어야한다
> 차라리 sp뷰를 별도 모달로 띄우고 계산창은 기존 모달에 표시하죠
그거랑 직접 입력하는 값도 물어봐서 그것만 따로 등록해서 신규모달을 갱신하는게 낫지 않을까

***

-> 직접 입력하는 부분 없음
상대밀도 95%값 세그먼트db에 추가필
오더장 만들고 ip, sp자동생성 연결로직부터 만들면 될듯함

- 위젯 채우는 함수 작성
1. 값 load 할 때 path넘기면서 파일 내용도 넘겨야할듯
2. 넘어온 내용 표시하는건 wfa.py 테스트코드
3. 징크/파라핀 체크박스
4. 사용자가 값 변경시 새로 계산값 도출해야함. <- 이건 어쩌지

##### ip
문서 생성
다이얼로그 구현하는데 문제가 있음
기존 위젯명으로 자동 불러오기인데 
loads/item/CW
loads/item/CCW
처럼 동적으로 생성되어서 이거 어쩌지 
format스트링으로 쓰고 치환하기

auto에 정규화 해서 저장하고 그거 부르기
이게 낫겠다 



##### order

insert하면 별도처리(ip,sp생성)필요함
함수 호출했을때 봐야함




















***

## 나중에

- `DB_PATH='./config/NOVA.db'` 가 model, dialog에 각각 하드코딩 되어있음. 나중에 환경변수로 빼던가 
- check 사용하게되면 리스트반환 함수 필요함(테스트코드)




## 유지보수

### 다이얼로그 등록하는 방법
1. ~~(자동화됨) Dialog.py에 다이얼로그 객체 생성~~
2. ~~(자동화됨) View.dialog_infos에 {"테이블명":클래스} 쌍 추가~~
3. ~~(자동화됨) Controller.init_signals에 추가 ~~

- ui 폴더에 {table_name}Dialog.ui 확인
- db에 table_name 테이블 확인
- Dialog.py에 DB_PATH 확인
